\subsection{Графічна оболонка та структури даних}
\subsubsection{OpenGL}
OpenGL (англ. Open Graphics Library "--- відкрита графічна бібліотека) "--- специфікація, що визначає незалежний від мови програмування крос-платформовий програмний інтерфейс (API) для написання додатків, що використовують 2D- та 3D-комп'ютерну графіку. Даний інтерфейс містить понад 250 функцій, які можуть використовуватися для малювання складних тривимірних сцен з простих примітивів. OpenGL широко використовується індустрією комп'ютерних ігор та комп'ютерної графіки.

Стандарт OpenGL був розроблений і затверджений у 1992 році передовими компаніями в області розробки апаратного та програмного забезпечення для роботи з комп'ютерною графікою. Метою співпраці було створення апаратно-незалежного інтерфейсу, придатного для реалізації на різних платформах. Основою стандарту стала бібліотека IRIS GL, розроблена компанією Silicon Graphics.

Курт Акелей (Kurt Akeley) і Марк Сіґал (Mark Segal) створили оригінальну специфікацію OpenGL. Кріс Фразаєр (Chris Frazier) редагував версію 1.1, а Джон Ліч (Jon Leech) "--- версії з 1.2 по 2.0.

На базовому рівні OpenGL "--- це всього лише специфікація, себто просто документ, який описує набір функцій і їх точну поведінку. На основі цих специфікацій виробники апаратного забезпечення створюють реалізації "--- бібліотеки функцій, які відповідають заявленій в OpenGL специфікації. Ці реалізації проектуються для того, щоб при можливості використовувати апаратне прискорення функцій OpenGL. Коли апаратне прискорення не підтримується, виконання фукнцій здійснюється за допомогою програмного забезпечення (програмна емуляція). Виробники повинні пройти спеціальні тести на відповідність, перш ніж їхню реалізацію класифікують як реалізацію специфікації OpenGL. Таким чином, розробникам програмного забезпечення необхідно всього лиш навчитися використовувати описані у специфікації функції, а реалізацію залишити розробникам апаратного забезпечення.

Ефективні реалізації OpenGL існують для операційних систем Linux, MacOS X, Microsoft Windows та багатьох UNIX-подібних ОС, а також для таких ігрових приставок, як Sony PlayStation 3. Різні програмні реалізації OpenGL існують для платформ, виробники яких не підтримують дану специфікацію. Відкрита (open source) бібліотека Mesa "--- повністю OpenGL-сумісний програмний API. Однак, для того, щоб уникнути витрат на ліцензування, пов'язаних з формалізацією, яка вимагається для офіційного визнання реалізації, Mesa є неофіційною реалізацією специфікації, хоча й повністю з нею сумісна.

OpenGL слугує двом цілям:
\begin{itemize}
\item для того, щоб приховувати складнощі встановлення зв'язку комп'ютера з різними 3D акселераторами, надати програмістові один загальноприйнятий API;
\item для того, щоб приховати можливості базових інструментальних машин, які відрізняються своїм намаганням виконати підтримку повного набору особливостей OpenGL (використання програмної емуляції, якщо необхідно).
\end{itemize}

\subsubsection{Структура 3DS файлу}

Дані про візуальний вигляд об'єктів світу завантажувалися з файлів формату 3DS, які містять інформацію про 3D-модель та текстури об'єкту. Файл 3DS складається із блоків (chunks), кожний із яких складається з певних даних і, можливо, підблоків. Загальний формат блоку:

\begin{table}[htb]
\centering
\begin{tabular}{|r|r|l|}
\hline
Зміщення & Довжина & Дані \\
\hline
0 & 2 & Ідентифікатор типу блока (chunk\_id) \\
\hline
2 & 4 & Довжина блоку (chunk\_len) \\
\hline
4 & chunk\_len & Дані або підблоки (в залежності від chunk\_id)\\
\hline
\end{tabular}
\caption{Формат блоку.}
\end{table}

\begin{table}[htb]
\centering
\begin{tabular}{|l|l|l|}
\hline
\verb| CHUNK_MAIN| &\verb| = 0x4D4D| &				[--] сцена\\
\verb| CHUNK_OBJMESH| &\verb| = 0x3D3D| & 		[--] різноманітні об'єкти\\
\verb|  CHUNK_OBJBLOCK| &\verb| = 0x4000| & 		[+] об'єкт\\
\verb|   CHUNK_OBJBTRIMESH| &\verb| = 0x4100| & [--] trimesh-об'єкт\\
\verb|    CHUNK_VERTLIST| &\verb| = 0x4110| & 	[+] список вершин\\
\verb|    CHUNK_FACELIST| &\verb| = 0x4120| & 	[+] список граней\\
\verb|    CHUNK_FACEMAT| &\verb| = 0x4130| & 	[+] матеріали граней\\
\verb|    CHUNK_MAPLIST| &\verb| = 0x4140| & 	[+] текстурні координати\\
\verb|    CHUNK_TRMATRIX| &\verb| = 0x4160| & 	[+] матриця переходу\\
\verb|   CHUNK_CAMERA| &\verb| = 0x4700| & 		[+] об'єкт-камера\\
\verb| CHUNK_MATERIAL| &\verb| = 0xAFFF| & 		[--] матеріал\\
\verb|  CHUNK_MATNAME|&\verb| = 0xA000| &	 		[+] назва матеріалу\\
\verb|  CHUNK_TEXTURE| &\verb| = 0xA200| & 		[--] текстура матеріалу\\
\verb|   CHUNK_MAPFILE| &\verb| = 0xA300| &	 	[+] ім'я файлу матеріалу\\
\verb| CHUNK_KEYFRAMER| &\verb| = 0xB000| &		[--] інформація про анімацію\\
\verb|  CHUNK_TRACKINFO| &\verb| = 0xB002| &		[--] поведінка об'єкта\\
\verb|   CHUNK_TRACKOBJNAME| &\verb| = 0xB010| &[+] назва об'єкту\\
\verb|   CHUNK_TRACKPIVOT| &\verb| = 0xB013| &	[+] центр повороту об'єкта\\
\verb|   CHUNK_TRACKPOS| &\verb| = 0xB020| &		[+] траєкторія\\
\verb|   CHUNK_TRACKROTATE| &\verb| = 0xB021| &	[+] траєкторія повороту\\
\verb|  CHUNK_TRACKCAMERA| &\verb| = 0xB003| &	[--] поведінка камери\\
\verb|   CHUNK_TRACKFOV| &\verb| = 0xB023| &		[+] поведінка FOV камери\\
\verb|   CHUNK_TRACKROLL| &\verb| = 0xB024| &	[+] поведінка ROLL камери\\
\verb|  CHUNK_TRACKCAMTGT| &\verb| = 0xB004| &	[--] поведінка "цілі" камери\\
\hline
\end{tabular}
\caption{Список ідентифікаторів типів блоків} \label{tab:dsid}
\end{table}

Конкретні дані містять лише блоки, помічені плюсом, решта блоків складаються з підблоків. (див.~табл.~\ref{tab:dsid}).\\
\verb|CHUNK_VERTLIST| "--- список вершин поточного об'єкта.\\
\verb|CHUNK_FACELIST| "--- список граней поточного об'єкта.\\
\verb|CHUNK_FACEMAT| "--- назва матеріалу і список всіх граней об'єкта, яким назначений цей матеріал. Таких блоків може бути декілька, а може і взагалі не бути.\\
\verb|CHUNK_MAPLIST| "--- текстурні координати вершин поточного об'єкта. Текстурні координати задаються в діапазоні $[0,1]$. Точка з U=0, V=0 "--- верхній лівий край текстури; U=1, V=1 "--- правий нижній край.\\
